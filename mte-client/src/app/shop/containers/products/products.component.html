<div class="banner" *ngIf="taxonomyTerm?.pageSettings?.banner">
    <mte-responsive-image
        [src]="taxonomyTerm.pageSettings.banner"
        [height]="'30rem'"
        [alt]="taxonomyTerm.pluralName"
        [overlaySrc]="taxonomyTerm.pageSettings.bannerOverlay"
        [overlayHeight]="'9.3rem'"
        [overlayAlt]="taxonomyTerm.pluralName">
    </mte-responsive-image>
</div>

<ng-container *ngIf="isOneColLayout()">
    <div class="sub-banner">Some info here</div>

    <div class="products container">    
        <div class="row">

            <!-- Products grid -->
            <div [ngClass]="[ 'products-grid-container', 'col-12' ]">
                <mte-products-grid [productsSource]="products"></mte-products-grid>
            </div>

        </div>
    </div>
</ng-container>

<ng-container *ngIf="isTwoColLayout()">
    <div class="products container">
        <div class="row">
            <!-- Left sidebar -->
            <ng-container *ngIf="layoutIsMdAboves() | async">
                <ng-container *ngTemplateOutlet="leftSidebar"></ng-container>
            </ng-container>
    
            <!-- Products grid -->
            <div [ngClass]="[ 'products-grid-container', 'col-lg-8', 'col-sm-12' ]">
                <mte-products-grid [productsSource]="productsSource"
                    (productClick)="handleProductClick($event)">
                </mte-products-grid>
            </div>
            
            <!-- Left sidebar - collapsible -->
            <div *ngIf="layoutIsNotMdAboves() | async"
                 class="products-left-sidebar-dropdown-container">
                <ng-container *ngTemplateOutlet="leftSidebar"></ng-container>
            </div>
        </div>
    </div>
    
    <ng-template #leftSidebar>
        <div [attr.aria-expanded]="leftSidebarIsExpandeds | async"
             [ngClass]="[ 'products-left-sidebar', 'col-lg-4', 'col-sm-12' ]">
            
            <h2>Narrow it down</h2>
    
            <div class="products-left-sidebar-filters">
    
                <!-- Standard filters. -->
                <div class="price-range-filter">
                    Price range
                </div>
    
                <div class="categories-filter">
                    Categories
                </div>

                <div class="brands-filter">
                    Brands
                </div>

                <div class="colors-filter">
                    Colors
                </div>
    
                <!-- Custom filters. -->
                <ng-container *ngIf="isDisplayingDiscs()">
                    <div class="disc-type-filter">
                        Disc type
                    </div>
        
                    <form [formGroup]="stabilitiesFormGroup"
                        class="stabilities-filter">
                        Stabilities
                        <div class="stabilities-filter--understable">
                            <input id="stabilities-filter-understable-input"
                                type="checkbox"
                                formControlName="underStable"
                            />
                            <label for="stabilities-filter-understable-input">Understable</label>
                        </div>
                        <div class="stabilities-filter--stable">
                            <input id="stabilities-filter-stable-input"
                                type="checkbox"
                                formControlName="stable"
                            />
                            <label for="stabilities-filter-stable-input">Stable</label>
                        </div>
                        <div class="stabilities-filter--overstable">
                            <input id="stabilities-filter-overstable-input"
                                type="checkbox"
                                formControlName="overStable"
                            />
                            <label for="stabilities-filter-overstable-input">Overstable</label>
                        </div>
                        
                    </form>
                </ng-container>
    
                <button>Clear filters</button>
    
            </div>
    
        </div>
    </ng-template>
</ng-container>
